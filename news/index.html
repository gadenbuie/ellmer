<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • ellmer</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Source_Sans_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/Source_Code_Pro-0.4.9/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://ellmer.tidyverse.org/logo.png"><script defer data-domain="ellmer.tidyverse.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script></head><body>
    <a href="#container" class="visually-hidden-focusable">Skip to content</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-none" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ellmer</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ellmer.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/prompt-design.html">Prompt design</a></li>
    <li><a class="dropdown-item" href="../articles/streaming-async.html">Streaming and async APIs</a></li>
    <li><a class="dropdown-item" href="../articles/structured-data.html">Structured data</a></li>
    <li><a class="dropdown-item" href="../articles/tool-calling.html">Tool/function calling</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/tidyverse/ellmer/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news" id="container">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/tidyverse/ellmer/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="development version" id="ellmer-development-version">ellmer (development version)<a class="anchor" aria-label="anchor" href="#ellmer-development-version"></a></h2>
<ul><li><p>ellmer now tracks the cost of input and output tokens. The cost is displayed when you print a <code>Chat</code> object, in <code>tokens_usage()</code>, and with <code>Chat$get_cost()</code>. This is our best effort at computing the cost, but you should treat it as an estimate rather than the exact price. Unfortunately LLM APIs currently make it very hard to figure out exactly how much your queries are costing (<a href="https://github.com/tidyverse/ellmer/issues/203" class="external-link">#203</a>).</p></li>
<li><p><code>ContentToolResult</code> objects now include the error condition in the <code>error</code> property when a tool call fails (<a href="https://github.com/tidyverse/ellmer/issues/421" class="external-link">#421</a>, <a href="https://github.com/gadenbuie" class="external-link">@gadenbuie</a>).</p></li>
<li>
<p>Several chat functions were renamed to better align with the companies providing the API (<a href="https://github.com/tidyverse/ellmer/issues/382" class="external-link">#382</a>, <a href="https://github.com/gadenbuie" class="external-link">@gadenbuie</a>):</p>
<ul><li>
<code><a href="../reference/chat_azure_openai.html">chat_azure_openai()</a></code> replaces <code><a href="../reference/deprecated.html">chat_azure()</a></code>
</li>
<li>
<code><a href="../reference/chat_aws_bedrock.html">chat_aws_bedrock()</a></code> replaces <code><a href="../reference/deprecated.html">chat_bedrock()</a></code>
</li>
<li>
<code><a href="../reference/chat_anthropic.html">chat_anthropic()</a></code> replaces <code><a href="../reference/deprecated.html">chat_claude()</a></code>
</li>
<li>
<code><a href="../reference/chat_google_gemini.html">chat_google_gemini()</a></code> replaces <code><a href="../reference/deprecated.html">chat_gemini()</a></code>
</li>
</ul></li>
<li><p><code><a href="../reference/deprecated.html">chat_claude()</a></code> now supports the thinking content type (<a href="https://github.com/tidyverse/ellmer/issues/396" class="external-link">#396</a>).</p></li>
<li><p><code><a href="../reference/tool.html">tool()</a></code> gains an <code>.annotations</code> argument that can be created with the <code><a href="../reference/tool_annotations.html">tool_annotations()</a></code> helper. Tool annotations are described in the <a href="https://modelcontextprotocol.io/introduction" class="external-link">Model Context Protocol</a> and can be used to describe the tool to clients. (<a href="https://github.com/tidyverse/ellmer/issues/402" class="external-link">#402</a>, <a href="https://github.com/gadenbuie" class="external-link">@gadenbuie</a>)</p></li>
<li><p><code>Provider</code> gains <code>name</code> and <code>model</code> fields (<a href="https://github.com/tidyverse/ellmer/issues/406" class="external-link">#406</a>). These are now reported when you print a chat object and used in <code><a href="../reference/token_usage.html">token_usage()</a></code>.</p></li>
<li><p>New <code><a href="../reference/interpolate.html">interpolate_package()</a></code> to make it easier to interpolate from prompts stored in the <code>inst/prompts</code> inside a package (<a href="https://github.com/tidyverse/ellmer/issues/164" class="external-link">#164</a>).</p></li>
<li><p><code><a href="../reference/deprecated.html">chat_azure()</a></code>, <code><a href="../reference/deprecated.html">chat_claude()</a></code>, <code><a href="../reference/chat_openai.html">chat_openai()</a></code>, and <code><a href="../reference/deprecated.html">chat_gemini()</a></code> now have a <code>params</code> argument that allows you to specify common model paramaters (like <code>seed</code> and <code>temperature</code>). Support for other models will grow as you request it (<a href="https://github.com/tidyverse/ellmer/issues/280" class="external-link">#280</a>).</p></li>
<li><p><code>chat_claude(max_tokens =)</code> is now deprecated in favour of <code>chat_claude(params = )</code> (<a href="https://github.com/tidyverse/ellmer/issues/280" class="external-link">#280</a>).</p></li>
<li><p><code>chat_openai(seed =)</code> is now deprecated in favour of <code>chat_openai(params = )</code> (<a href="https://github.com/tidyverse/ellmer/issues/280" class="external-link">#280</a>).</p></li>
<li><p><code>Chat$get_provider()</code> lets you access the underlying provider object, if needed (<a href="https://github.com/tidyverse/ellmer/issues/202" class="external-link">#202</a>).</p></li>
<li><p><code>$extract_data()</code> now works better for arrays when <code>required = FALSE</code> (<a href="https://github.com/tidyverse/ellmer/issues/384" class="external-link">#384</a>).</p></li>
<li><p><code><a href="../reference/deprecated.html">chat_claude()</a></code> and <code><a href="../reference/deprecated.html">chat_bedrock()</a></code> no longer choke after receiving an output that consists only of whitespace (<a href="https://github.com/tidyverse/ellmer/issues/376" class="external-link">#376</a>).</p></li>
<li><p><code><a href="../reference/live_console.html">live_browser()</a></code> now initializes <code><a href="https://rdrr.io/pkg/shinychat/man/chat_ui.html" class="external-link">shinychat::chat_ui()</a></code> with the messages from the chat turns, rather than replaying the turns server-side (<a href="https://github.com/tidyverse/ellmer/issues/381" class="external-link">#381</a>).</p></li>
<li><p><code>Chat$tokens()</code> now returns a data frame of tokens, correctly aligned to the individual turn. The print method now uses this to show how many input/output tokens each turn used (<a href="https://github.com/tidyverse/ellmer/issues/354" class="external-link">#354</a>).</p></li>
<li><p>All requests now set a custom User-Agent that identifies that the requests comes from ellmer (<a href="https://github.com/tidyverse/ellmer/issues/341" class="external-link">#341</a>).</p></li>
<li><p><code>provider_claude()</code> now supports <code><a href="../reference/content_image_url.html">content_image_url()</a></code> (<a href="https://github.com/tidyverse/ellmer/issues/347" class="external-link">#347</a>).</p></li>
<li><p><code><a href="../reference/deprecated.html">chat_claude()</a></code> gains <code>beta_header</code> argument to opt-in to beta features (<a href="https://github.com/tidyverse/ellmer/issues/339" class="external-link">#339</a>).</p></li>
<li><p><code><a href="../reference/deprecated.html">chat_claude()</a></code> now supports <code><a href="../reference/content_image_url.html">content_image_url()</a></code> (<a href="https://github.com/tidyverse/ellmer/issues/347" class="external-link">#347</a>).</p></li>
<li><p><code><a href="../reference/deprecated.html">chat_claude()</a></code> now defaults to Sonnet 3.7 and displays the default model (<a href="https://github.com/tidyverse/ellmer/issues/336" class="external-link">#336</a>).</p></li>
<li><p><code>Turn</code> objects now include a POSIXct timestamp in the <code>completed</code> slot that records when the turn was completed (<a href="https://github.com/tidyverse/ellmer/issues/337" class="external-link">#337</a>, <a href="https://github.com/simonpcouch" class="external-link">@simonpcouch</a>).</p></li>
<li><p><code><a href="../reference/create_tool_def.html">create_tool_def()</a></code> can now use any Chat instance (<a href="https://github.com/tidyverse/ellmer/issues/118" class="external-link">#118</a>, <a href="https://github.com/pedrobtz" class="external-link">@pedrobtz</a>).</p></li>
<li>
<p>New experimental <code>$chat_parallel()</code> and <code>$extract_data_parallel()</code> make it easier to perform multiple actions in parallel (<a href="https://github.com/tidyverse/ellmer/issues/143" class="external-link">#143</a>). This is experimental because I’m not 100% sure that the shape of the user interface is correct, particularly as it pertains to handling errors.</p>
<p>For Claude, note that the number of active connections is limited primarily by the output tokens per limit (OTPM) which is estimated from the <code>max_tokens</code> parameter, which defaults to 4096. That means if you’re limited to 16,000 OPTM, you should use at most 16,000 / 4096 = ~4 active connections (or decrease <code>max_tokens</code>).</p>
<p>Parallel calls with OpenAI and Gemini are much simpler in my experience.</p>
</li>
<li><p><code><a href="../reference/gemini_upload.html">gemini_upload()</a></code> lets you upload files to Gemini (<a href="https://github.com/tidyverse/ellmer/issues/310" class="external-link">#310</a>).</p></li>
<li><p><code><a href="../reference/deprecated.html">chat_gemini()</a></code> can now authenticate with Google default application credentials (including service accounts, etc). This requires the <code>gargle</code> package (<a href="https://github.com/tidyverse/ellmer/issues/317" class="external-link">#317</a>, <a href="https://github.com/atheriel" class="external-link">@atheriel</a>).</p></li>
<li><p><code><a href="../reference/deprecated.html">chat_gemini()</a></code> now detects viewer-based credentials when running on Posit Connect (<a href="https://github.com/tidyverse/ellmer/issues/320" class="external-link">#320</a>, <a href="https://github.com/atheriel" class="external-link">@atheriel</a>).</p></li>
<li><p><code><a href="../reference/chat_ollama.html">chat_ollama()</a></code> now works with <code><a href="../reference/tool.html">tool()</a></code> definitions with optional arguments or empty properties (<a href="https://github.com/tidyverse/ellmer/issues/342" class="external-link">#342</a>, <a href="https://github.com/tidyverse/ellmer/issues/348" class="external-link">#348</a>, <a href="https://github.com/gadenbuie" class="external-link">@gadenbuie</a>).</p></li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.1" id="ellmer-011">ellmer 0.1.1<a class="anchor" aria-label="anchor" href="#ellmer-011"></a></h2><p class="text-muted">CRAN release: 2025-02-06</p>
<div class="section level3">
<h3 id="lifecycle-changes-0-1-1">Lifecycle changes<a class="anchor" aria-label="anchor" href="#lifecycle-changes-0-1-1"></a></h3>
<ul><li><p><code>option(ellmer_verbosity)</code> is no longer supported; instead use the standard httr2 verbosity functions, such as <code><a href="https://httr2.r-lib.org/reference/with_verbosity.html" class="external-link">httr2::with_verbosity()</a></code>; these now support streaming data.</p></li>
<li><p><code><a href="../reference/deprecated.html">chat_cortex()</a></code> has been renamed <code><a href="../reference/chat_cortex_analyst.html">chat_cortex_analyst()</a></code> to better disambiguate it from <code><a href="../reference/chat_snowflake.html">chat_snowflake()</a></code> (which <em>also</em> uses “Cortex”) (<a href="https://github.com/tidyverse/ellmer/issues/275" class="external-link">#275</a>, <a href="https://github.com/atheriel" class="external-link">@atheriel</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="new-features-0-1-1">New features<a class="anchor" aria-label="anchor" href="#new-features-0-1-1"></a></h3>
<ul><li><p>All providers now wait for up to 60s to get the complete response. You can increase this with, e.g., <code>option(ellmer_timeout_s = 120)</code> (<a href="https://github.com/tidyverse/ellmer/issues/213" class="external-link">#213</a>, <a href="https://github.com/tidyverse/ellmer/issues/300" class="external-link">#300</a>).</p></li>
<li><p><code><a href="../reference/deprecated.html">chat_azure()</a></code>, <code><a href="../reference/chat_databricks.html">chat_databricks()</a></code>, <code><a href="../reference/chat_snowflake.html">chat_snowflake()</a></code>, and <code><a href="../reference/chat_cortex_analyst.html">chat_cortex_analyst()</a></code> now detect viewer-based credentials when running on Posit Connect (<a href="https://github.com/tidyverse/ellmer/issues/285" class="external-link">#285</a>, <a href="https://github.com/atheriel" class="external-link">@atheriel</a>).</p></li>
<li><p><code><a href="../reference/chat_deepseek.html">chat_deepseek()</a></code> provides support for DeepSeek models (<a href="https://github.com/tidyverse/ellmer/issues/242" class="external-link">#242</a>).</p></li>
<li><p><code><a href="../reference/chat_openrouter.html">chat_openrouter()</a></code> provides support for models hosted by OpenRouter (<a href="https://github.com/tidyverse/ellmer/issues/212" class="external-link">#212</a>).</p></li>
<li><p><code><a href="../reference/chat_snowflake.html">chat_snowflake()</a></code> allows chatting with models hosted through Snowflake’s <a href="https://docs.snowflake.com/en/user-guide/snowflake-cortex/cortex-llm-rest-api" class="external-link">Cortex LLM REST API</a> (<a href="https://github.com/tidyverse/ellmer/issues/258" class="external-link">#258</a>, <a href="https://github.com/atheriel" class="external-link">@atheriel</a>).</p></li>
<li><p><code><a href="../reference/content_pdf_file.html">content_pdf_file()</a></code> and <code><a href="../reference/content_pdf_file.html">content_pdf_url()</a></code> allow you to upload PDFs to supported models. Models that currently support PDFs are Google Gemini and Claude Anthropic. With help from <a href="https://github.com/walkerke" class="external-link">@walkerke</a> and <a href="https://github.com/andrie" class="external-link">@andrie</a> (<a href="https://github.com/tidyverse/ellmer/issues/265" class="external-link">#265</a>).</p></li>
</ul></div>
<div class="section level3">
<h3 id="bug-fixes-and-minor-improvements-0-1-1">Bug fixes and minor improvements<a class="anchor" aria-label="anchor" href="#bug-fixes-and-minor-improvements-0-1-1"></a></h3>
<ul><li><p><code>Chat$get_model()</code> returns the model name (<a href="https://github.com/tidyverse/ellmer/issues/299" class="external-link">#299</a>).</p></li>
<li><p><code><a href="../reference/deprecated.html">chat_azure()</a></code> has greatly improved support for Azure Entra ID. API keys are now optional and we can pick up on ambient credentials from Azure service principals or attempt to use interactive Entra ID authentication when possible. The broken-by-design <code>token</code> argument has been deprecated (it could not handle refreshing tokens properly), but a new <code>credentials</code> argument can be used for custom Entra ID support when needed instead (for instance, if you’re trying to use tokens generated by the <code>AzureAuth</code> package) (<a href="https://github.com/tidyverse/ellmer/issues/248" class="external-link">#248</a>, <a href="https://github.com/tidyverse/ellmer/issues/263" class="external-link">#263</a>, <a href="https://github.com/tidyverse/ellmer/issues/273" class="external-link">#273</a>, <a href="https://github.com/tidyverse/ellmer/issues/257" class="external-link">#257</a>, <a href="https://github.com/atheriel" class="external-link">@atheriel</a>).</p></li>
<li><p><code><a href="../reference/deprecated.html">chat_azure()</a></code> now reports better error messages when the underlying HTTP requests fail (<a href="https://github.com/tidyverse/ellmer/issues/269" class="external-link">#269</a>, <a href="https://github.com/atheriel" class="external-link">@atheriel</a>). It now also defaults to <code>api_version = "2024-10-21"</code> which includes data for structured data extraction (<a href="https://github.com/tidyverse/ellmer/issues/271" class="external-link">#271</a>).</p></li>
<li><p><code><a href="../reference/deprecated.html">chat_bedrock()</a></code> now handles temporary IAM credentials better (<a href="https://github.com/tidyverse/ellmer/issues/261" class="external-link">#261</a>, <a href="https://github.com/atheriel" class="external-link">@atheriel</a>) and <code><a href="../reference/deprecated.html">chat_bedrock()</a></code> gains <code>api_args</code> argument (<a href="https://github.com/billsanto" class="external-link">@billsanto</a>, <a href="https://github.com/tidyverse/ellmer/issues/295" class="external-link">#295</a>).</p></li>
<li><p><code><a href="../reference/chat_databricks.html">chat_databricks()</a></code> now handles the <code>DATABRICKS_HOST</code> environment variable correctly whether it includes an HTTPS prefix or not (<a href="https://github.com/tidyverse/ellmer/issues/252" class="external-link">#252</a>, <a href="https://github.com/atheriel" class="external-link">@atheriel</a>). It also respects the <code>SPARK_CONNECT_USER_AGENT</code> environment variable when making requests (<a href="https://github.com/tidyverse/ellmer/issues/254" class="external-link">#254</a>, <a href="https://github.com/atheriel" class="external-link">@atheriel</a>).</p></li>
<li><p><code><a href="../reference/deprecated.html">chat_gemini()</a></code> now defaults to using the gemini-2.0-flash model.</p></li>
<li><p><code>print(Chat)</code> no longer wraps long lines, making it easier to read code and bulleted lists (<a href="https://github.com/tidyverse/ellmer/issues/246" class="external-link">#246</a>).</p></li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.1.0" id="ellmer-010">ellmer 0.1.0<a class="anchor" aria-label="anchor" href="#ellmer-010"></a></h2><p class="text-muted">CRAN release: 2025-01-09</p>
<ul><li><p>New <code><a href="../reference/chat_vllm.html">chat_vllm()</a></code> to chat with models served by vLLM (<a href="https://github.com/tidyverse/ellmer/issues/140" class="external-link">#140</a>).</p></li>
<li><p>The default <code><a href="../reference/chat_openai.html">chat_openai()</a></code> model is now GPT-4o.</p></li>
<li><p>New <code>Chat$set_turns()</code> to set turns. <code>Chat$turns()</code> is now <code>Chat$get_turns()</code>. <code>Chat$system_prompt()</code> is replaced with <code>Chat$set_system_prompt()</code> and <code>Chat$get_system_prompt()</code>.</p></li>
<li><p>Async and streaming async chat are now event-driven and use <code><a href="https://r-lib.github.io/later/reference/later_fd.html" class="external-link">later::later_fd()</a></code> to wait efficiently on curl socket activity (<a href="https://github.com/tidyverse/ellmer/issues/157" class="external-link">#157</a>).</p></li>
<li><p>New <code><a href="../reference/deprecated.html">chat_bedrock()</a></code> to chat with AWS bedrock models (<a href="https://github.com/tidyverse/ellmer/issues/50" class="external-link">#50</a>).</p></li>
<li><p>New <code>chat$extract_data()</code> uses the structured data API where available (and tool calling otherwise) to extract data structured according to a known type specification. You can create specs with functions <code><a href="../reference/type_boolean.html">type_boolean()</a></code>, <code><a href="../reference/type_boolean.html">type_integer()</a></code>, <code><a href="../reference/type_boolean.html">type_number()</a></code>, <code><a href="../reference/type_boolean.html">type_string()</a></code>, <code><a href="../reference/type_boolean.html">type_enum()</a></code>, <code><a href="../reference/type_boolean.html">type_array()</a></code>, and <code><a href="../reference/type_boolean.html">type_object()</a></code> (<a href="https://github.com/tidyverse/ellmer/issues/31" class="external-link">#31</a>).</p></li>
<li><p>The general <code>ToolArg()</code> has been replaced by the more specific <code>type_*()</code> functions. <code>ToolDef()</code> has been renamed to <code>tool</code>.</p></li>
<li><p><code><a href="../reference/content_image_url.html">content_image_url()</a></code> will now create inline images when given a data url (<a href="https://github.com/tidyverse/ellmer/issues/110" class="external-link">#110</a>).</p></li>
<li><p>Streaming ollama results works once again (<a href="https://github.com/tidyverse/ellmer/issues/117" class="external-link">#117</a>).</p></li>
<li><p>Streaming OpenAI results now capture more results, including <code>logprobs</code> (<a href="https://github.com/tidyverse/ellmer/issues/115" class="external-link">#115</a>).</p></li>
<li><p>New <code><a href="../reference/interpolate.html">interpolate()</a></code> and <code>prompt_file()</code> make it easier to create prompts that are a mix of static text and dynamic values.</p></li>
<li><p>You can find how many tokens you’ve used in the current session by calling <code><a href="../reference/token_usage.html">token_usage()</a></code>.</p></li>
<li><p><code>chat_browser()</code> and <code>chat_console()</code> are now <code><a href="../reference/live_console.html">live_browser()</a></code> and <code><a href="../reference/live_console.html">live_console()</a></code>.</p></li>
<li><p>The <code>echo</code> can now be one of three values: “none”, “text”, or “all”. If “all”, you’ll now see both user and assistant turns, and all content types will be printed, not just text. When running in the global environment, <code>echo</code> defaults to “text”, and when running inside a function it defaults to “none”.</p></li>
<li><p>You can now log low-level JSON request/response info by setting <code>options(ellmer_verbosity = 2)</code>.</p></li>
<li><p><code>chat$register_tool()</code> now takes an object created by <code>Tool()</code>. This makes it a little easier to reuse tool definitions (<a href="https://github.com/tidyverse/ellmer/issues/32" class="external-link">#32</a>).</p></li>
<li><p><code>new_chat_openai()</code> is now <code><a href="../reference/chat_openai.html">chat_openai()</a></code>.</p></li>
<li><p>Claude and Gemini are now supported via <code><a href="../reference/deprecated.html">chat_claude()</a></code> and <code><a href="../reference/deprecated.html">chat_gemini()</a></code>.</p></li>
<li><p>The Snowflake Cortex Analyst is now supported via <code><a href="../reference/deprecated.html">chat_cortex()</a></code> (<a href="https://github.com/tidyverse/ellmer/issues/56" class="external-link">#56</a>).</p></li>
<li><p>Databricks is now supported via <code><a href="../reference/chat_databricks.html">chat_databricks()</a></code> (<a href="https://github.com/tidyverse/ellmer/issues/152" class="external-link">#152</a>).</p></li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


   </div>
  <footer><div class="container">
  <div class="pkgdown-footer-left">
  <p>Developed by <a href="https://hadley.nz" class="external-link">Hadley Wickham</a>, Joe Cheng, Aaron Jacobs, <a href="https://www.posit.co" class="external-link"><img src="https://www.tidyverse.org/posit-logo.svg" alt="Posit" height="16" width="62" style="margin-bottom: 3px;"></a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

  </div></footer></body></html>

